<Window x:Class="FUNewsClientWpf.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=System.Runtime"
        Title="FU News Management" Height="720" Width="1100" WindowStartupLocation="CenterScreen">
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="Account">
                <MenuItem Header="Profile" Click="Profile_Click" />
                <Separator/>
                <MenuItem Header="Logout" Click="Logout_Click"/>
            </MenuItem>
        </Menu>
        <TabControl x:Name="Tabs">
            <TabItem x:Name="AdminAccountsTab" Header="Accounts (Admin)" Visibility="Collapsed">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <!-- Search with placeholder -->
                        <Grid Width="240" Margin="0,0,8,0">
                            <TextBox x:Name="AccountSearchBox"/>
                            <TextBlock Text="Search by name/email..."
                                       Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                                       Margin="6,0,0,0"
                                       VerticalAlignment="Center"
                                       IsHitTestVisible="False">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Text, ElementName=AccountSearchBox}" Value="">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </Grid>
                        <Button Content="Refresh" Margin="0,0,8,0" Click="AccountsRefresh_Click"/>
                        <Button Content="Create..." Margin="0,0,8,0" Click="AccountCreate_Click"/>
                        <Button Content="Edit..." Margin="0,0,8,0" Click="AccountEdit_Click"/>
                        <Button Content="Delete" Click="AccountDelete_Click"/>
                    </StackPanel>
                    <DataGrid x:Name="AccountsGrid" Grid.Row="1" AutoGenerateColumns="False" IsReadOnly="True"
                    SelectionMode="Single">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding AccountId}" Width="60"/>
                            <DataGridTextColumn Header="Name" Binding="{Binding AccountName}" Width="*"/>
                            <DataGridTextColumn Header="Email" Binding="{Binding AccountEmail}" Width="*"/>
                            <DataGridTextColumn Header="Role" Binding="{Binding AccountRole}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem x:Name="CategoriesTab" Header="Categories (Staff/Admin)" Visibility="Collapsed">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <!-- Search with placeholder -->
                        <Grid Width="240" Margin="0,0,8,0">
                            <TextBox x:Name="CategorySearchBox"/>
                            <TextBlock Text="Search by name..."
                                       Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                                       Margin="6,0,0,0"
                                       VerticalAlignment="Center"
                                       IsHitTestVisible="False">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Text, ElementName=CategorySearchBox}" Value="">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </Grid>
                        <Button Content="Refresh" Margin="0,0,8,0" Click="CategoriesRefresh_Click"/>
                        <Button Content="Create..." Margin="0,0,8,0" Click="CategoryCreate_Click"/>
                        <Button Content="Edit..." Margin="0,0,8,0" Click="CategoryEdit_Click"/>
                        <Button Content="Delete" Click="CategoryDelete_Click"/>
                    </StackPanel>
                    <DataGrid x:Name="CategoriesGrid" Grid.Row="1" AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding CategoryId}" Width="80"/>
                            <DataGridTextColumn Header="Name" Binding="{Binding CategoryName}" Width="*"/>
                            <DataGridTextColumn Header="Active" Binding="{Binding IsActive}" Width="80"/>
                            <DataGridTextColumn Header="ParentID" Binding="{Binding ParentCategoryId}" Width="90"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem x:Name="NewsTab" Header="News (Staff/Admin)" Visibility="Collapsed">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <!-- Search with placeholder -->
                        <Grid Width="240" Margin="0,0,8,0">
                            <TextBox x:Name="NewsSearchBox"/>
                            <TextBlock Text="Search by title/headline..."
                                       Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                                       Margin="6,0,0,0"
                                       VerticalAlignment="Center"
                                       IsHitTestVisible="False">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Text, ElementName=NewsSearchBox}" Value="">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </Grid>
                        <Button Content="Refresh" Margin="0,0,8,0" Click="NewsRefresh_Click"/>
                        <Button Content="Create..." Margin="0,0,8,0" Click="NewsCreate_Click"/>
                        <Button Content="Edit..." Margin="0,0,8,0" Click="NewsEdit_Click"/>
                        <Button Content="Delete" Click="NewsDelete_Click"/>
                    </StackPanel>
                    <DataGrid x:Name="NewsGrid" Grid.Row="1" AutoGenerateColumns="False" IsReadOnly="True">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding NewsArticleId}" Width="160"/>
                            <DataGridTextColumn Header="Title" Binding="{Binding NewsTitle}" Width="2*"/>
                            <DataGridTextColumn Header="Headline" Binding="{Binding Headline}" Width="2*"/>
                            <DataGridTextColumn Header="Created" Binding="{Binding CreatedDate}" Width="150"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding NewsStatus}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem x:Name="HistoryTab" Header="My History (Staff)" Visibility="Collapsed">
                <Grid Margin="8">
                    <Button Content="Refresh" HorizontalAlignment="Left" Click="HistoryRefresh_Click"/>
                    <DataGrid x:Name="HistoryGrid" Margin="0,40,0,0" AutoGenerateColumns="True" IsReadOnly="True"/>
                </Grid>
            </TabItem>

            <TabItem x:Name="ReportTab" Header="Report (Admin)" Visibility="Collapsed">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <DatePicker x:Name="StartDatePicker" SelectedDate="{x:Static sys:DateTime.Today}"/>
                        <TextBlock Text="  to  " VerticalAlignment="Center"/>
                        <DatePicker x:Name="EndDatePicker" SelectedDate="{x:Static sys:DateTime.Today}"/>
                        <Button Content="Run Report" Margin="8,0,0,0" Click="RunReport_Click"/>
                    </StackPanel>
                    <DataGrid x:Name="ReportGrid" Grid.Row="1" AutoGenerateColumns="True" IsReadOnly="True"/>
                </Grid>
            </TabItem>
        </TabControl>
    </DockPanel>
</Window>